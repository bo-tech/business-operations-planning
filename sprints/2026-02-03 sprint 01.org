* Sprint 1: Initial business-operations Structure

Started: 2026-02-03

** Plan

- [X] Assess repository structure and work out how to split the public part out
- [X] Publish ~sphinx-builder~ to GitHub/bo-tech
- [X] Publish ~default-repository~ template to GitHub/bo-tech
- [X] Update ~default-repository~ template (sphinx-builder URL to GitHub)
- [X] Create ~business-operations~ repository using the template
- [X] Extract ADRs from ~b-ops~ docs/decisions/ (modify titles to include ADR ID)
- [ ] Extract Minisforum hardware configs from infrastructure/nixos/hardware/
  - aim for nixos-hardware, add into fork and use from fork, then submit upstream
- [ ] Create initial flake.nix exposing NixOS hardware modules
- [ ] Verify hardware modules work when imported from external flake
- [ ] Parameterize k0s-node modules (SSH keys, DNS as inputs)
- [ ] Extract parameterized NixOS modules to ~business-operations~
- [ ] Update ~b-ops~ flake to use modules from ~business-operations~
- [ ] Assess remaining docs: categorize as ~business-operations~ / ~demo-ops~ / ~b-ops~
- [ ] Consider: Put a ~demo-ops~ repo already up to collect docs which belong there
- [ ] Extract public documentation to ~business-operations~
- [ ] Build and publish documentation
- [ ] ~demo-ops~ and ~b-ops~ should be able to refer back to the documentation
- [ ] Create minimal ~demo-ops~ using ~business-operations~ NixOS modules
- [ ] Experiment: explore multi-repo approaches for Flux/Kustomize layer
- [ ] Experiment: try out most promising approaches with VolSync templates
- [ ] Experiment: explore Taskfile pattern for cluster tasks (push to internal Gitea)

*** Backlog

- [ ] Document known limitations or similar
  - [ ] Need to select and update per app instead of the whole thing
- [ ] Update secrets handling documentation when working on ~demo-ops~
- [ ] Consider submitting hardware modules to nixos-hardware
- [ ] Extract Ansible roles to ~business-operations~ (Nix-centric integration via devShell)
- [ ] Log ADR: Nix-centric dependency management for Ansible roles
- [ ] Document WOL/shutdown task pattern for cluster management
- [ ] Document cluster task patterns (push, info, forward-gitea)
- [ ] Remove unused tasks from ~b-ops~ (trigger-backup, k3s-*, bootstrap)
- [ ] Create Renovate configuration for ~business-operations~ (GitHub)

** Focus

Establish business-operations repository with first low-risk extractions to
validate the multi-repo approach.

** Checkpoint

"Can a NixOS configuration import hardware modules from ~business-operations~?"

** Notes

** Learnings and Insights

** Closing Status
